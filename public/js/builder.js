!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/",n(n.s=0)}({0:function(e,t,n){e.exports=n("bUC5")},"7nwa":function(e,t,n){var r;!function(o){"use strict";var u=function(e,t){var n=/[^\w\-.:]/.test(e)?new Function(u.arg+",tmpl","var _e=tmpl.encode"+u.helper+",_s='"+e.replace(u.regexp,u.func)+"';return _s;"):u.cache[e]=u.cache[e]||u(u.load(e));return t?n(t,u):function(e){return n(e,u)}};u.cache={},u.load=function(e){return document.getElementById(e).innerHTML},u.regexp=/([\s'\\])(?!(?:[^{]|\{(?!%))*%\})|(?:\{%(=|#)([\s\S]+?)%\})|(\{%)|(%\})/g,u.func=function(e,t,n,r,o,u){return t?{"\n":"\\n","\r":"\\r","\t":"\\t"," ":" "}[t]||"\\"+t:n?"="===n?"'+_e("+r+")+'":"'+("+r+"==null?'':"+r+")+'":o?"';":u?"_s+='":void 0},u.encReg=/[<>&"'\x00]/g,u.encMap={"<":"&lt;",">":"&gt;","&":"&amp;",'"':"&quot;","'":"&#39;"},u.encode=function(e){return(null==e?"":""+e).replace(u.encReg,function(e){return u.encMap[e]||""})},u.arg="o",u.helper=",print=function(s,e){_s+=e?(s==null?'':s):_e(s);},include=function(s,d){_s+=tmpl(s,d);}",void 0===(r=function(){return u}.call(t,n,t,e))||(e.exports=r)}()},bUC5:function(e,t,n){"use strict";n.r(t);var r=n("7nwa"),o=n.n(r);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t){return!t||"object"!==u(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function a(e){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var f,s,p,d=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),c(this,a(t).apply(this,arguments))}var n,r,u;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(t,window.Controller),n=t,(r=[{key:"connect",value:function(){document.querySelector("#post-form").addEventListener("change",this.saveModel)}},{key:"addColumn",value:function(e){if((13===e.which||1===e.which)&&""!==this.columnTarget.value.trim()&&null===document.querySelector('input[name="columns['.concat(this.columnTarget.value,'][name]"]'))){var t=this.createTrFromHTML(o()("boot-template-column",{field:this.columnTarget.value}));return document.getElementById("boot-container-column").appendChild(t),this.columnTarget.value="",this.saveModel(),e.preventDefault()}}},{key:"removeColumn",value:function(e){e.path.forEach(function(t){if("TR"===t.nodeName)return t.remove(),e.preventDefault()}),this.saveModel()}},{key:"addRelation",value:function(e){var t=this.relationTarget.value;if((13===e.which||1===e.which)&&""!==t.trim()&&null===document.querySelector('input[name="relations['.concat(t,'][name]"]'))){var n=this.createTrFromHTML(o()("boot-template-relationship",{field:t}));return axios.post(platform.prefix("/bulldozer/".concat(t,"/getRelated"))).then(function(e){document.querySelector('select[name="relations['.concat(t,'][related]"]')).innerHTML=e.data}),document.getElementById("boot-container-relationship").appendChild(n),this.saveModel(),e.preventDefault()}}},{key:"createTrFromHTML",value:function(e){var t=document.createElement("tr");return t.innerHTML=e.trim(),t}},{key:"saveModel",value:function(){var e=new FormData(document.querySelector("#post-form"));axios.post(window.location.toString()+"/save",e)}}])&&i(n.prototype,r),u&&i(n,u),t}();p=["column","relation"],(s="targets")in(f=d)?Object.defineProperty(f,s,{value:p,enumerable:!0,configurable:!0,writable:!0}):f[s]=p,window.application.register("components--builder",d)}});